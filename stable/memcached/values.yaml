## Memcached image and tag
## ref: https://hub.docker.com/r/library/memcached/tags/
##
image: memcached:1.5.9-alpine

## Specify a imagePullPolicy
## 'Always' if imageTag is 'latest', else set to 'IfNotPresent'
## ref: http://kubernetes.io/docs/user-guide/images/#pre-pulling-images
##
# imagePullPolicy:
#

## Replica count
replicaCount: 3

## Pod disruption budget minAvailable count
pdbMinAvailable: 3

## Select AntiAffinity as either hard or soft, default is hard
AntiAffinity: "hard"

## Optional labels and annotations for the StatefulSet, Pods, Service
## Labels and annotations for the headless Prometheus Service are below under 'metrics'
##
labels: {}
#  env: prod
annotations: {}
#  icon: "https://upload.wikimedia.org/wikipedia/en/thumb/2/27/Memcached.svg/1024px-Memcached.svg.png"

memcached:
  ## Various values that get set as command-line flags.
  ## Wiki is very out of date, can get option info from binary: docker run --rm memcached -h
  ## ref: https://github.com/memcached/memcached/wiki/ConfiguringServer#commandline-arguments
  ##
  port: 11211
  udpPort: 11211
  maxItemMemory: 64
  maxItemSize: 1m
  maxConnections: 1024
  slabMinSizeBytes: 48
  slabGrowthFactor: "1.25"
  verbosity: v
  extendedOptions: "modern"

## Configure resource requests and limits
## ref: http://kubernetes.io/docs/user-guide/compute-resources/
## NOTE: Make sure any memory limit is a bit larger than your memcached.maxItemMemory
##
resources: {}
  # requests:
  #   memory: 64Mi
  #   cpu: 50m
  # limits:
  #   memory: 76Mi
  #   cpu: 100m

## Prometheus metrics exporter
## ref: https://github.com/prometheus/memcached_exporter
##
metrics:
  enabled: false
  image:
    repository: prom/memcached-exporter
    tag: v0.4.1
    pullPolicy: IfNotPresent
  labels: {}
  #  prometheus-job: memcached
  annotations: {}
  #  prometheus.io/scrape: "true"
  port: 9150
  path: "/metrics"
  resources: {}
    # requests:
    #   memory: 8Mi
    #   cpu: 50m
    # limits:
    #   memory: 8Mi
    #   cpu: 100m

extraContainers: |

extraVolumes: |

replicaCount: 1

rbac:
  create: true

serviceAccount:
  create: true
  name:

image:
  repository: lightbend/spark-history-server
  tag: 2.4.0
  pullPolicy: IfNotPresent

service:
  type: LoadBalancer
  port: 18080

environment:
# Note: do not configure Spark history events directory using SPARK_HISTORY_OPTS. It will be
# configured by this chart based on the values in "pvc", "gcs" or "hdfs" attribute.
  # SPARK_HISTORY_OPTS: ...
  # SPARK_DAEMON_MEMORY: 1g
  # SPARK_DAEMON_JAVA_OPTS: ...
  # SPARK_DAEMON_CLASSPATH: ...
  # SPARK_PUBLIC_DNS: ...

pvc:
  # to use a file system path for Spark events dir, set 'enabled' to true and mention the
  # name of an already created persistent volume claim in existingPVC.
  # The volume will be mounted on /data in the pod
  enabled: true
  existingPVC: nfs-pvc
  eventsDir: "/"

# When both pvc.enabled and nfs.enabled are true, make sure:
# pvc.existingPVC == nfs.pvc
nfs:
  enabled: true
  pv: nfs-pv
  pvc: nfs-pvc

# When both pvc.enabled and gluster.enabled are true, make sure:
# pvc.existingPVC == gluster.pvc
gluster:
  enabled: false
  storageClass: glusterfs-sc
  resturl: "http://heketi-storage.glusterfs.svc:8080"
  restuser: admin
  secretName: heketi-storage-admin-secret
  secretNamespace: glusterfs
  pvc: gluster-pvc
  pvcStorage: 10Gi

gcs:
  enabled: false
  secret: history-secrets
  key: sparkonk8s.json
  logDirectory: gs://spark-hs/

hdfs:
  hdfsSiteConfigMap: hdfs-site
  coreSiteConfigMap: core-site
  logDirectory: hdfs://hdfs/history/
  HADOOP_CONF_DIR: /etc/hadoop

# Generated from 'k8s-resources-cluster' from https://raw.githubusercontent.com/coreos/kube-prometheus/master/manifests/grafana-dashboardDefinitions.yaml
# Do not change in-place! In order to change this file first read following link:
# https://github.com/helm/charts/tree/master/stable/prometheus-operator/hack
{{- if .Values.enableWindowsMonitoring.enabled }}
{{- $kubeTargetVersion := default .Capabilities.KubeVersion.GitVersion .Values.kubeTargetVersionOverride }}
{{- if and (semverCompare ">=1.14.0-0" $kubeTargetVersion) (semverCompare "<9.9.9-9" $kubeTargetVersion) .Values.grafana.enabled .Values.grafana.defaultDashboardsEnabled }}
apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ printf "%s-%s" (include "prometheus-operator.fullname" $) "k8s-resources-windows-cluster" | trunc 63 | trimSuffix "-" }}
  namespace: {{ template "prometheus-operator.namespace" . }}
  labels:
    {{- if $.Values.grafana.sidecar.dashboards.label }}
    {{ $.Values.grafana.sidecar.dashboards.label }}: "1"
    {{- end }}
    app: {{ template "prometheus-operator.name" $ }}-grafana
{{ include "prometheus-operator.labels" $ | indent 4 }}
data:
  k8s-resources-windows-cluster.json: |-
    {
        "__inputs": [ ],
        "__requires": [ ],
        "annotations": {
            "list": [ ]
        },
        "editable": false,
        "gnetId": null,
        "graphTooltip": 0,
        "hideControls": false,
        "id": null,
        "links": [ ],
        "refresh": "10s",
        "rows": [
            {
                "collapse": false,
                "height": "100px",
                "panels": [
                    {
                    "aliasColors": { },
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "$datasource",
                    "fill": 1,
                    "format": "percentunit",
                    "id": 2,
                    "legend": {
                        "avg": false,
                        "current": false,
                        "max": false,
                        "min": false,
                        "show": true,
                        "total": false,
                        "values": false
                    },
                    "lines": true,
                    "linewidth": 1,
                    "links": [ ],
                    "nullPointMode": "null as zero",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [ ],
                    "spaceLength": 10,
                    "span": 2,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                        {
                            "expr": "1 - avg(rate(wmi_cpu_time_total{mode=\"idle\"}[1m]))",
                            "format": "time_series",
                            "instant": true,
                            "intervalFactor": 2,
                            "refId": "A"
                        }
                    ],
                    "thresholds": "70,80",
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "CPU Utilisation",
                    "tooltip": {
                        "shared": true,
                        "sort": 0,
                        "value_type": "individual"
                    },
                    "type": "singlestat",
                    "xaxis": {
                        "buckets": null,
                        "mode": "time",
                        "name": null,
                        "show": true,
                        "values": [ ]
                    },
                    "yaxes": [
                        {
                            "format": "short",
                            "label": null,
                            "logBase": 1,
                            "max": null,
                            "min": 0,
                            "show": true
                        },
                        {
                            "format": "short",
                            "label": null,
                            "logBase": 1,
                            "max": null,
                            "min": null,
                            "show": false
                        }
                    ]
                    },
                    {
                    "aliasColors": { },
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "$datasource",
                    "fill": 1,
                    "format": "percentunit",
                    "id": 3,
                    "legend": {
                        "avg": false,
                        "current": false,
                        "max": false,
                        "min": false,
                        "show": true,
                        "total": false,
                        "values": false
                    },
                    "lines": true,
                    "linewidth": 1,
                    "links": [ ],
                    "nullPointMode": "null as zero",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [ ],
                    "spaceLength": 10,
                    "span": 2,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                        {
                            "expr": "sum(kube_pod_windows_container_resource_cpu_cores_request) / sum(node:windows_node_num_cpu:sum)",
                            "format": "time_series",
                            "instant": true,
                            "intervalFactor": 2,
                            "refId": "A"
                        }
                    ],
                    "thresholds": "70,80",
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "CPU Requests Commitment",
                    "tooltip": {
                        "shared": true,
                        "sort": 0,
                        "value_type": "individual"
                    },
                    "type": "singlestat",
                    "xaxis": {
                        "buckets": null,
                        "mode": "time",
                        "name": null,
                        "show": true,
                        "values": [ ]
                    },
                    "yaxes": [
                        {
                            "format": "short",
                            "label": null,
                            "logBase": 1,
                            "max": null,
                            "min": 0,
                            "show": true
                        },
                        {
                            "format": "short",
                            "label": null,
                            "logBase": 1,
                            "max": null,
                            "min": null,
                            "show": false
                        }
                    ]
                    },
                    {
                    "aliasColors": { },
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "$datasource",
                    "fill": 1,
                    "format": "percentunit",
                    "id": 4,
                    "legend": {
                        "avg": false,
                        "current": false,
                        "max": false,
                        "min": false,
                        "show": true,
                        "total": false,
                        "values": false
                    },
                    "lines": true,
                    "linewidth": 1,
                    "links": [ ],
                    "nullPointMode": "null as zero",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [ ],
                    "spaceLength": 10,
                    "span": 2,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                        {
                            "expr": "sum(kube_pod_windows_container_resource_cpu_cores_limit) / sum(node:windows_node_num_cpu:sum)",
                            "format": "time_series",
                            "instant": true,
                            "intervalFactor": 2,
                            "refId": "A"
                        }
                    ],
                    "thresholds": "70,80",
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "CPU Limits Commitment",
                    "tooltip": {
                        "shared": true,
                        "sort": 0,
                        "value_type": "individual"
                    },
                    "type": "singlestat",
                    "xaxis": {
                        "buckets": null,
                        "mode": "time",
                        "name": null,
                        "show": true,
                        "values": [ ]
                    },
                    "yaxes": [
                        {
                            "format": "short",
                            "label": null,
                            "logBase": 1,
                            "max": null,
                            "min": 0,
                            "show": true
                        },
                        {
                            "format": "short",
                            "label": null,
                            "logBase": 1,
                            "max": null,
                            "min": null,
                            "show": false
                        }
                    ]
                    },
                    {
                    "aliasColors": { },
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "$datasource",
                    "fill": 1,
                    "format": "percentunit",
                    "id": 5,
                    "legend": {
                        "avg": false,
                        "current": false,
                        "max": false,
                        "min": false,
                        "show": true,
                        "total": false,
                        "values": false
                    },
                    "lines": true,
                    "linewidth": 1,
                    "links": [ ],
                    "nullPointMode": "null as zero",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [ ],
                    "spaceLength": 10,
                    "span": 2,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                        {
                            "expr": "1 - sum(:windows_node_memory_MemFreeCached_bytes:sum) / sum(:windows_node_memory_MemTotal_bytes:sum)",
                            "format": "time_series",
                            "instant": true,
                            "intervalFactor": 2,
                            "refId": "A"
                        }
                    ],
                    "thresholds": "70,80",
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Memory Utilisation",
                    "tooltip": {
                        "shared": true,
                        "sort": 0,
                        "value_type": "individual"
                    },
                    "type": "singlestat",
                    "xaxis": {
                        "buckets": null,
                        "mode": "time",
                        "name": null,
                        "show": true,
                        "values": [ ]
                    },
                    "yaxes": [
                        {
                            "format": "short",
                            "label": null,
                            "logBase": 1,
                            "max": null,
                            "min": 0,
                            "show": true
                        },
                        {
                            "format": "short",
                            "label": null,
                            "logBase": 1,
                            "max": null,
                            "min": null,
                            "show": false
                        }
                    ]
                    },
                    {
                    "aliasColors": { },
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "$datasource",
                    "fill": 1,
                    "format": "percentunit",
                    "id": 6,
                    "legend": {
                        "avg": false,
                        "current": false,
                        "max": false,
                        "min": false,
                        "show": true,
                        "total": false,
                        "values": false
                    },
                    "lines": true,
                    "linewidth": 1,
                    "links": [ ],
                    "nullPointMode": "null as zero",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [ ],
                    "spaceLength": 10,
                    "span": 2,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                        {
                            "expr": "sum(kube_pod_windows_container_resource_memory_request) / sum(:windows_node_memory_MemTotal_bytes:sum)",
                            "format": "time_series",
                            "instant": true,
                            "intervalFactor": 2,
                            "refId": "A"
                        }
                    ],
                    "thresholds": "70,80",
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Memory Requests Commitment",
                    "tooltip": {
                        "shared": true,
                        "sort": 0,
                        "value_type": "individual"
                    },
                    "type": "singlestat",
                    "xaxis": {
                        "buckets": null,
                        "mode": "time",
                        "name": null,
                        "show": true,
                        "values": [ ]
                    },
                    "yaxes": [
                        {
                            "format": "short",
                            "label": null,
                            "logBase": 1,
                            "max": null,
                            "min": 0,
                            "show": true
                        },
                        {
                            "format": "short",
                            "label": null,
                            "logBase": 1,
                            "max": null,
                            "min": null,
                            "show": false
                        }
                    ]
                    },
                    {
                    "aliasColors": { },
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "$datasource",
                    "fill": 1,
                    "format": "percentunit",
                    "id": 7,
                    "legend": {
                        "avg": false,
                        "current": false,
                        "max": false,
                        "min": false,
                        "show": true,
                        "total": false,
                        "values": false
                    },
                    "lines": true,
                    "linewidth": 1,
                    "links": [ ],
                    "nullPointMode": "null as zero",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [ ],
                    "spaceLength": 10,
                    "span": 2,
                    "stack": false,
                    "steppedLine": false,
                    "targets": [
                        {
                            "expr": "sum(kube_pod_windows_container_resource_memory_limit) / sum(:windows_node_memory_MemTotal_bytes:sum)",
                            "format": "time_series",
                            "instant": true,
                            "intervalFactor": 2,
                            "refId": "A"
                        }
                    ],
                    "thresholds": "70,80",
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Memory Limits Commitment",
                    "tooltip": {
                        "shared": true,
                        "sort": 0,
                        "value_type": "individual"
                    },
                    "type": "singlestat",
                    "xaxis": {
                        "buckets": null,
                        "mode": "time",
                        "name": null,
                        "show": true,
                        "values": [ ]
                    },
                    "yaxes": [
                        {
                            "format": "short",
                            "label": null,
                            "logBase": 1,
                            "max": null,
                            "min": 0,
                            "show": true
                        },
                        {
                            "format": "short",
                            "label": null,
                            "logBase": 1,
                            "max": null,
                            "min": null,
                            "show": false
                        }
                    ]
                    }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": false,
                "title": "Headlines",
                "titleSize": "h6"
            },
            {
                "collapse": false,
                "height": "250px",
                "panels": [
                    {
                    "aliasColors": { },
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "$datasource",
                    "fill": 10,
                    "id": 8,
                    "legend": {
                        "avg": false,
                        "current": false,
                        "max": false,
                        "min": false,
                        "show": true,
                        "total": false,
                        "values": false
                    },
                    "lines": true,
                    "linewidth": 0,
                    "links": [ ],
                    "nullPointMode": "null as zero",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [ ],
                    "spaceLength": 10,
                    "span": 12,
                    "stack": true,
                    "steppedLine": false,
                    "targets": [
                        {
                            "expr": "sum(namespace_pod_container:windows_container_cpu_usage_seconds_total:sum_rate) by (namespace)",
                            "format": "time_series",
                            "intervalFactor": 2,
                            "legendFormat": "{{`{{namespace}}`}}",
                            "legendLink": null,
                            "step": 10
                        }
                    ],
                    "thresholds": [ ],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "CPU Usage",
                    "tooltip": {
                        "shared": true,
                        "sort": 0,
                        "value_type": "individual"
                    },
                    "type": "graph",
                    "xaxis": {
                        "buckets": null,
                        "mode": "time",
                        "name": null,
                        "show": true,
                        "values": [ ]
                    },
                    "yaxes": [
                        {
                            "format": "short",
                            "label": null,
                            "logBase": 1,
                            "max": null,
                            "min": 0,
                            "show": true
                        },
                        {
                            "format": "short",
                            "label": null,
                            "logBase": 1,
                            "max": null,
                            "min": null,
                            "show": false
                        }
                    ]
                    }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": true,
                "title": "CPU",
                "titleSize": "h6"
            },
            {
                "collapse": false,
                "height": "250px",
                "panels": [
                    {
                    "aliasColors": { },
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "$datasource",
                    "fill": 1,
                    "id": 9,
                    "legend": {
                        "avg": false,
                        "current": false,
                        "max": false,
                        "min": false,
                        "show": true,
                        "total": false,
                        "values": false
                    },
                    "lines": true,
                    "linewidth": 1,
                    "links": [ ],
                    "nullPointMode": "null as zero",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [ ],
                    "spaceLength": 10,
                    "span": 12,
                    "stack": false,
                    "steppedLine": false,
                    "styles": [
                        {
                            "alias": "Time",
                            "dateFormat": "YYYY-MM-DD HH:mm:ss",
                            "pattern": "Time",
                            "type": "hidden"
                        },
                        {
                            "alias": "CPU Usage",
                            "colorMode": null,
                            "colors": [ ],
                            "dateFormat": "YYYY-MM-DD HH:mm:ss",
                            "decimals": 2,
                            "link": false,
                            "linkTooltip": "Drill down",
                            "linkUrl": "",
                            "pattern": "Value #A",
                            "thresholds": [ ],
                            "type": "number",
                            "unit": "short"
                        },
                        {
                            "alias": "CPU Requests",
                            "colorMode": null,
                            "colors": [ ],
                            "dateFormat": "YYYY-MM-DD HH:mm:ss",
                            "decimals": 2,
                            "link": false,
                            "linkTooltip": "Drill down",
                            "linkUrl": "",
                            "pattern": "Value #B",
                            "thresholds": [ ],
                            "type": "number",
                            "unit": "short"
                        },
                        {
                            "alias": "CPU Requests %",
                            "colorMode": null,
                            "colors": [ ],
                            "dateFormat": "YYYY-MM-DD HH:mm:ss",
                            "decimals": 2,
                            "link": false,
                            "linkTooltip": "Drill down",
                            "linkUrl": "",
                            "pattern": "Value #C",
                            "thresholds": [ ],
                            "type": "number",
                            "unit": "percentunit"
                        },
                        {
                            "alias": "CPU Limits",
                            "colorMode": null,
                            "colors": [ ],
                            "dateFormat": "YYYY-MM-DD HH:mm:ss",
                            "decimals": 2,
                            "link": false,
                            "linkTooltip": "Drill down",
                            "linkUrl": "",
                            "pattern": "Value #D",
                            "thresholds": [ ],
                            "type": "number",
                            "unit": "short"
                        },
                        {
                            "alias": "CPU Limits %",
                            "colorMode": null,
                            "colors": [ ],
                            "dateFormat": "YYYY-MM-DD HH:mm:ss",
                            "decimals": 2,
                            "link": false,
                            "linkTooltip": "Drill down",
                            "linkUrl": "",
                            "pattern": "Value #E",
                            "thresholds": [ ],
                            "type": "number",
                            "unit": "percentunit"
                        },
                        {
                            "alias": "Namespace",
                            "colorMode": null,
                            "colors": [ ],
                            "dateFormat": "YYYY-MM-DD HH:mm:ss",
                            "decimals": 2,
                            "link": true,
                            "linkTooltip": "Drill down",
                            "linkUrl": "./d/490b402361724ab1d4c45666c1fa9b6f/k8s-resources-windows-namespace?var-datasource=$datasource&var-namespace=$__cell",
                            "pattern": "namespace",
                            "thresholds": [ ],
                            "type": "number",
                            "unit": "short"
                        },
                        {
                            "alias": "",
                            "colorMode": null,
                            "colors": [ ],
                            "dateFormat": "YYYY-MM-DD HH:mm:ss",
                            "decimals": 2,
                            "pattern": "/.*/",
                            "thresholds": [ ],
                            "type": "string",
                            "unit": "short"
                        }
                    ],
                    "targets": [
                        {
                            "expr": "sum(namespace_pod_container:windows_container_cpu_usage_seconds_total:sum_rate) by (namespace)",
                            "format": "table",
                            "instant": true,
                            "intervalFactor": 2,
                            "legendFormat": "",
                            "refId": "A",
                            "step": 10
                        },
                        {
                            "expr": "sum(kube_pod_windows_container_resource_cpu_cores_request) by (namespace)",
                            "format": "table",
                            "instant": true,
                            "intervalFactor": 2,
                            "legendFormat": "",
                            "refId": "B",
                            "step": 10
                        },
                        {
                            "expr": "sum(namespace_pod_container:windows_container_cpu_usage_seconds_total:sum_rate) by (namespace) / sum(kube_pod_windows_container_resource_cpu_cores_request) by (namespace)",
                            "format": "table",
                            "instant": true,
                            "intervalFactor": 2,
                            "legendFormat": "",
                            "refId": "C",
                            "step": 10
                        },
                        {
                            "expr": "sum(kube_pod_windows_container_resource_cpu_cores_limit) by (namespace)",
                            "format": "table",
                            "instant": true,
                            "intervalFactor": 2,
                            "legendFormat": "",
                            "refId": "D",
                            "step": 10
                        },
                        {
                            "expr": "sum(namespace_pod_container:windows_container_cpu_usage_seconds_total:sum_rate) by (namespace) / sum(kube_pod_windows_container_resource_cpu_cores_limit) by (namespace)",
                            "format": "table",
                            "instant": true,
                            "intervalFactor": 2,
                            "legendFormat": "",
                            "refId": "E",
                            "step": 10
                        }
                    ],
                    "thresholds": [ ],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "CPU Quota",
                    "tooltip": {
                        "shared": true,
                        "sort": 0,
                        "value_type": "individual"
                    },
                    "transform": "table",
                    "type": "table",
                    "xaxis": {
                        "buckets": null,
                        "mode": "time",
                        "name": null,
                        "show": true,
                        "values": [ ]
                    },
                    "yaxes": [
                        {
                            "format": "short",
                            "label": null,
                            "logBase": 1,
                            "max": null,
                            "min": 0,
                            "show": true
                        },
                        {
                            "format": "short",
                            "label": null,
                            "logBase": 1,
                            "max": null,
                            "min": null,
                            "show": false
                        }
                    ]
                    }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": true,
                "title": "CPU Quota",
                "titleSize": "h6"
            },
            {
                "collapse": false,
                "height": "250px",
                "panels": [
                    {
                    "aliasColors": { },
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "$datasource",
                    "fill": 10,
                    "id": 10,
                    "legend": {
                        "avg": false,
                        "current": false,
                        "max": false,
                        "min": false,
                        "show": true,
                        "total": false,
                        "values": false
                    },
                    "lines": true,
                    "linewidth": 0,
                    "links": [ ],
                    "nullPointMode": "null as zero",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [ ],
                    "spaceLength": 10,
                    "span": 12,
                    "stack": true,
                    "steppedLine": false,
                    "targets": [
                        {
                            "expr": "sum(windows_container_private_working_set_usage{}) by (namespace)",
                            "format": "time_series",
                            "intervalFactor": 2,
                            "legendFormat": "{{`{{namespace}}`}}",
                            "legendLink": null,
                            "step": 10
                        }
                    ],
                    "thresholds": [ ],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Memory Usage (Private Working Set)",
                    "tooltip": {
                        "shared": true,
                        "sort": 0,
                        "value_type": "individual"
                    },
                    "type": "graph",
                    "xaxis": {
                        "buckets": null,
                        "mode": "time",
                        "name": null,
                        "show": true,
                        "values": [ ]
                    },
                    "yaxes": [
                        {
                            "format": "decbytes",
                            "label": null,
                            "logBase": 1,
                            "max": null,
                            "min": 0,
                            "show": true
                        },
                        {
                            "format": "short",
                            "label": null,
                            "logBase": 1,
                            "max": null,
                            "min": null,
                            "show": false
                        }
                    ]
                    }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": true,
                "title": "Memory",
                "titleSize": "h6"
            },
            {
                "collapse": false,
                "height": "250px",
                "panels": [
                    {
                    "aliasColors": { },
                    "bars": false,
                    "dashLength": 10,
                    "dashes": false,
                    "datasource": "$datasource",
                    "fill": 1,
                    "id": 11,
                    "legend": {
                        "avg": false,
                        "current": false,
                        "max": false,
                        "min": false,
                        "show": true,
                        "total": false,
                        "values": false
                    },
                    "lines": true,
                    "linewidth": 1,
                    "links": [ ],
                    "nullPointMode": "null as zero",
                    "percentage": false,
                    "pointradius": 5,
                    "points": false,
                    "renderer": "flot",
                    "seriesOverrides": [ ],
                    "spaceLength": 10,
                    "span": 12,
                    "stack": false,
                    "steppedLine": false,
                    "styles": [
                        {
                            "alias": "Time",
                            "dateFormat": "YYYY-MM-DD HH:mm:ss",
                            "pattern": "Time",
                            "type": "hidden"
                        },
                        {
                            "alias": "Memory Usage",
                            "colorMode": null,
                            "colors": [ ],
                            "dateFormat": "YYYY-MM-DD HH:mm:ss",
                            "decimals": 2,
                            "link": false,
                            "linkTooltip": "Drill down",
                            "linkUrl": "",
                            "pattern": "Value #A",
                            "thresholds": [ ],
                            "type": "number",
                            "unit": "decbytes"
                        },
                        {
                            "alias": "Memory Requests",
                            "colorMode": null,
                            "colors": [ ],
                            "dateFormat": "YYYY-MM-DD HH:mm:ss",
                            "decimals": 2,
                            "link": false,
                            "linkTooltip": "Drill down",
                            "linkUrl": "",
                            "pattern": "Value #B",
                            "thresholds": [ ],
                            "type": "number",
                            "unit": "decbytes"
                        },
                        {
                            "alias": "Memory Requests %",
                            "colorMode": null,
                            "colors": [ ],
                            "dateFormat": "YYYY-MM-DD HH:mm:ss",
                            "decimals": 2,
                            "link": false,
                            "linkTooltip": "Drill down",
                            "linkUrl": "",
                            "pattern": "Value #C",
                            "thresholds": [ ],
                            "type": "number",
                            "unit": "percentunit"
                        },
                        {
                            "alias": "Memory Limits",
                            "colorMode": null,
                            "colors": [ ],
                            "dateFormat": "YYYY-MM-DD HH:mm:ss",
                            "decimals": 2,
                            "link": false,
                            "linkTooltip": "Drill down",
                            "linkUrl": "",
                            "pattern": "Value #D",
                            "thresholds": [ ],
                            "type": "number",
                            "unit": "decbytes"
                        },
                        {
                            "alias": "Memory Limits %",
                            "colorMode": null,
                            "colors": [ ],
                            "dateFormat": "YYYY-MM-DD HH:mm:ss",
                            "decimals": 2,
                            "link": false,
                            "linkTooltip": "Drill down",
                            "linkUrl": "",
                            "pattern": "Value #E",
                            "thresholds": [ ],
                            "type": "number",
                            "unit": "percentunit"
                        },
                        {
                            "alias": "Namespace",
                            "colorMode": null,
                            "colors": [ ],
                            "dateFormat": "YYYY-MM-DD HH:mm:ss",
                            "decimals": 2,
                            "link": true,
                            "linkTooltip": "Drill down",
                            "linkUrl": "./d/490b402361724ab1d4c45666c1fa9b6f/k8s-resources-windows-namespace?var-datasource=$datasource&var-namespace=$__cell",
                            "pattern": "namespace",
                            "thresholds": [ ],
                            "type": "number",
                            "unit": "short"
                        },
                        {
                            "alias": "",
                            "colorMode": null,
                            "colors": [ ],
                            "dateFormat": "YYYY-MM-DD HH:mm:ss",
                            "decimals": 2,
                            "pattern": "/.*/",
                            "thresholds": [ ],
                            "type": "string",
                            "unit": "short"
                        }
                    ],
                    "targets": [
                        {
                            "expr": "sum(windows_container_private_working_set_usage{}) by (namespace)",
                            "format": "table",
                            "instant": true,
                            "intervalFactor": 2,
                            "legendFormat": "",
                            "refId": "A",
                            "step": 10
                        },
                        {
                            "expr": "sum(kube_pod_windows_container_resource_memory_request) by (namespace)",
                            "format": "table",
                            "instant": true,
                            "intervalFactor": 2,
                            "legendFormat": "",
                            "refId": "B",
                            "step": 10
                        },
                        {
                            "expr": "sum(windows_container_private_working_set_usage{}) by (namespace) / sum(kube_pod_windows_container_resource_memory_request) by (namespace)",
                            "format": "table",
                            "instant": true,
                            "intervalFactor": 2,
                            "legendFormat": "",
                            "refId": "C",
                            "step": 10
                        },
                        {
                            "expr": "sum(kube_pod_windows_container_resource_memory_limit) by (namespace)",
                            "format": "table",
                            "instant": true,
                            "intervalFactor": 2,
                            "legendFormat": "",
                            "refId": "D",
                            "step": 10
                        },
                        {
                            "expr": "sum(windows_container_private_working_set_usage{}) by (namespace) / sum(kube_pod_windows_container_resource_memory_limit) by (namespace)",
                            "format": "table",
                            "instant": true,
                            "intervalFactor": 2,
                            "legendFormat": "",
                            "refId": "E",
                            "step": 10
                        }
                    ],
                    "thresholds": [ ],
                    "timeFrom": null,
                    "timeShift": null,
                    "title": "Requests by Namespace",
                    "tooltip": {
                        "shared": true,
                        "sort": 0,
                        "value_type": "individual"
                    },
                    "transform": "table",
                    "type": "table",
                    "xaxis": {
                        "buckets": null,
                        "mode": "time",
                        "name": null,
                        "show": true,
                        "values": [ ]
                    },
                    "yaxes": [
                        {
                            "format": "short",
                            "label": null,
                            "logBase": 1,
                            "max": null,
                            "min": 0,
                            "show": true
                        },
                        {
                            "format": "short",
                            "label": null,
                            "logBase": 1,
                            "max": null,
                            "min": null,
                            "show": false
                        }
                    ]
                    }
                ],
                "repeat": null,
                "repeatIteration": null,
                "repeatRowId": null,
                "showTitle": true,
                "title": "Memory Requests",
                "titleSize": "h6"
            }
        ],
        "schemaVersion": 14,
        "style": "dark",
        "tags": [
            "kubernetes-mixin"
        ],
        "templating": {
            "list": [
                {
                    "current": {
                    "text": "default",
                    "value": "default"
                    },
                    "hide": 0,
                    "label": null,
                    "name": "datasource",
                    "options": [ ],
                    "query": "prometheus",
                    "refresh": 1,
                    "regex": "",
                    "type": "datasource"
                }
            ]
        },
        "time": {
            "from": "now-1h",
            "to": "now"
        },
        "timepicker": {
            "refresh_intervals": [
                "5s",
                "10s",
                "30s",
                "1m",
                "5m",
                "15m",
                "30m",
                "1h",
                "2h",
                "1d"
            ],
            "time_options": [
                "5m",
                "15m",
                "1h",
                "6h",
                "12h",
                "24h",
                "2d",
                "7d",
                "30d"
            ]
        },
        "timezone": "browser",
        "title": "Kubernetes / Compute Resources / Cluster (Windows)",
        "uid": "4d08557fd9391b100730f2494bccac68",
        "version": 0
    }

{{- end }}
{{- end }}
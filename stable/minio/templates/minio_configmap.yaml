{{- if eq .Values.mode "distributed" }}
apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ template "fullname" . }}-cm
  labels:
    app: {{ template "fullname" . }}
    chart: "{{ .Chart.Name }}-{{ .Chart.Version }}"
    release: "{{ .Release.Name }}"
    heritage: "{{ .Release.Service }}"
{{ $nodeCount := .Values.replicas | int64 }}
data:
  start.sh: |
     #!/bin/sh
     {{- if .Values.configPath }}
     minio -C {{ .Values.configPath }} server \
     {{- else }}
     minio server \
     {{- end }}
     {{- if eq $nodeCount 4 }}
       http://{{ template "fullname" . }}-0.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-1.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-2.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-3.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }}
     {{- else if eq $nodeCount 5 }}
       http://{{ template "fullname" . }}-0.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-1.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-2.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-3.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-4.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }}
     {{- else if eq $nodeCount 6 }}
       http://{{ template "fullname" . }}-0.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-1.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-2.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-3.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-4.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-5.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }}
     {{- else if eq $nodeCount 7 }}
       http://{{ template "fullname" . }}-0.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-1.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-2.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-3.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-4.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-5.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-6.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }}
     {{- else if eq $nodeCount 8 }}
       http://{{ template "fullname" . }}-0.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-1.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-2.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-3.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-4.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-5.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-6.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-7.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }}
     {{- else if eq $nodeCount 9 }}
       http://{{ template "fullname" . }}-0.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-1.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-2.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-3.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-4.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-5.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-6.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-7.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-8.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }}
     {{- else if eq $nodeCount 10 }}
       http://{{ template "fullname" . }}-0.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-1.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-2.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-3.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-4.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-5.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-6.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-7.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-8.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-9.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }}
     {{- else if eq $nodeCount 11 }}
       http://{{ template "fullname" . }}-0.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-1.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-2.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-3.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-4.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-5.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-6.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-7.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-8.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-9.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-10.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }}
     {{- else if eq $nodeCount 12 }}
       http://{{ template "fullname" . }}-0.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-1.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-2.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-3.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-4.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-5.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-6.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-7.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-8.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-9.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-10.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-11.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }}
     {{- else if eq $nodeCount 13 }}
       http://{{ template "fullname" . }}-0.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-1.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-2.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-3.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-4.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-5.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-6.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-7.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-8.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-9.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-10.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-11.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-12.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }}
     {{- else if eq $nodeCount 14 }}
       http://{{ template "fullname" . }}-0.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-1.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-2.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-3.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-4.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-5.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-6.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-7.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-8.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-9.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-10.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-11.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-12.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-13.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }}
     {{- else if eq $nodeCount 15 }}
       http://{{ template "fullname" . }}-0.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-1.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-2.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-3.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-4.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-5.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-6.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-7.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-8.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-9.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-10.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-11.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-12.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-13.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-14.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }}
     {{- else if eq $nodeCount 16 }}
       http://{{ template "fullname" . }}-0.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-1.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-2.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-3.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-4.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-5.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-6.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-7.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-8.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-9.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-10.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-11.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-12.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-13.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-14.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }} \
       http://{{ template "fullname" . }}-15.{{ template "fullname" . }}.{{ .Release.Namespace }}.svc.cluster.local{{ .Values.mountPath }}
     {{ end }}
{{- end }}

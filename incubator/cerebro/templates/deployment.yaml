{{- template "common.deployment" (list . "cerebro.deployment") -}}
{{- define "cerebro.deployment" -}}
spec:
  template:
    spec:
      containers:
      - {{ template "common.container" (list . "cerebro.deployment.container") }}
{{- end -}}

{{- define "cerebro.deployment.container" }}
ports:
  - name: http
    containerPort: 9000
livenessProbe:
  httpGet:
    path: /
    port: http
readinessProbe:
  httpGet:
    path: /
    port: http
{{- end -}}

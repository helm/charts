apiVersion: v1
data:
  kubernetes-pods-dashboard.json: "{\n  \"__inputs\": [\n    {\n      \"description\": \"\",\n      \"label\": \"prometheus\",\n      \"name\": \"prometheus\",\n      \"pluginId\": \"prometheus\",\n      \"pluginName\": \"Prometheus\",\n      \"type\": \"datasource\"\n    }\n  ],\n  \"annotations\": {\n    \"list\": []\n  },\n  \"editable\": false,\n  \"graphTooltip\": 1,\n  \"hideControls\": false,\n  \"links\": [],\n  \"refresh\": false,\n  \"rows\": [\n    {\n      \"collapse\": false,\n      \"editable\": false,\n      \"height\": \"250px\",\n      \"panels\": [\n        {\n          \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\": \"prometheus\",\n          \"editable\": false,\n          \"error\": false,\n          \"fill\": 1,\n          \"grid\": {\n            \"threshold1Color\": \"rgba(216, 200, 27, 0.27)\",\n            \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\n          },\n  \
    \        \"id\": 1,\n          \"isNew\": false,\n          \"legend\": {\n            \"alignAsTable\": true,\n            \"avg\": true,\n            \"current\": true,\n            \"hideEmpty\": false,\n            \"hideZero\": false,\n            \"max\": false,\n            \"min\": false,\n            \"rightSide\": true,\n            \"show\": true,\n            \"total\": false,\n            \"values\": true\n          },\n          \"lines\": true,\n          \"linewidth\": 2,\n          \"links\": [],\n          \"nullPointMode\": \"connected\",\n          \"percentage\": false,\n          \"pointradius\": 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"span\": 12,\n          \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n            {\n              \"expr\": \"sum by(container_name) (container_memory_usage_bytes{pod_name=\\\"$pod\\\", container_name=~\\\
    \"$container\\\", container_name!=\\\"POD\\\"})\",\n              \"interval\": \"10s\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"Current: {{"{{"}} container_name {{"}}"}}\",\n              \"metric\": \"container_memory_usage_bytes\",\n              \"refId\": \"A\",\n              \"step\": 15\n            },\n            {\n              \"expr\": \"kube_pod_container_resource_requests_memory_bytes{pod=\\\"$pod\\\", container=~\\\"$container\\\"}\",\n              \"interval\": \"10s\",\n              \"intervalFactor\": 2,\n              \"legendFormat\": \"Requested: {{"{{"}} container {{"}}"}}\",\n              \"metric\": \"kube_pod_container_resource_requests_memory_bytes\",\n              \"refId\": \"B\",\n              \"step\": 20\n            },\n            {\n              \"expr\": \"kube_pod_container_resource_limits_memory_bytes{pod=\\\"$pod\\\", container=~\\\"$container\\\"}\",\n              \"interval\": \"10s\",\n              \"intervalFactor\": 2,\n \
    \             \"legendFormat\": \"Limit: {{"{{"}} container {{"}}"}}\",\n              \"metric\": \"kube_pod_container_resource_limits_memory_bytes\",\n              \"refId\": \"C\",\n              \"step\": 20\n            }\n          ],\n          \"title\": \"Memory Usage\",\n          \"tooltip\": {\n            \"msResolution\": true,\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"cumulative\"\n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": []\n          },\n          \"yaxes\": [\n            {\n              \"format\": \"bytes\",\n              \"logBase\": 1,\n              \"show\": true\n            },\n            {\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\": true\n            }\n          ]\n        }\n      ],\n      \"showTitle\": false,\n      \"title\": \"Row\",\n      \"titleSize\"\
    : \"h6\"\n    },\n    {\n      \"collapse\": false,\n      \"editable\": false,\n      \"height\": \"250px\",\n      \"panels\": [\n        {\n          \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\": \"prometheus\",\n          \"editable\": false,\n          \"error\": false,\n          \"fill\": 1,\n          \"grid\": {\n            \"threshold1Color\": \"rgba(216, 200, 27, 0.27)\",\n            \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\n          },\n          \"id\": 2,\n          \"isNew\": false,\n          \"legend\": {\n            \"alignAsTable\": true,\n            \"avg\": true,\n            \"current\": true,\n            \"hideEmpty\": false,\n            \"hideZero\": false,\n            \"max\": false,\n            \"min\": false,\n            \"rightSide\": true,\n            \"show\": true,\n            \"total\": false,\n            \"values\": true\n          },\n  \
    \        \"lines\": true,\n          \"linewidth\": 2,\n          \"links\": [],\n          \"nullPointMode\": \"connected\",\n          \"percentage\": false,\n          \"pointradius\": 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"span\": 12,\n          \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n            {\n              \"expr\": \"sum by (container_name)(rate(container_cpu_usage_seconds_total{image!=\\\"\\\",container_name!=\\\"POD\\\",pod_name=\\\"$pod\\\"}[1m]))\",\n              \"intervalFactor\": 2,\n              \"legendFormat\": \"{{"{{"}} container_name {{"}}"}}\",\n              \"refId\": \"A\",\n              \"step\": 30\n            },\n            {\n              \"expr\": \"kube_pod_container_resource_requests_cpu_cores{pod=\\\"$pod\\\", container=~\\\"$container\\\"}\",\n              \"interval\": \"10s\",\n              \"intervalFactor\"\
    : 2,\n              \"legendFormat\": \"Requested: {{"{{"}} container {{"}}"}}\",\n              \"metric\": \"kube_pod_container_resource_requests_cpu_cores\",\n              \"refId\": \"B\",\n              \"step\": 20\n            },\n            {\n              \"expr\": \"kube_pod_container_resource_limits_cpu_cores{pod=\\\"$pod\\\", container=~\\\"$container\\\"}\",\n              \"interval\": \"10s\",\n              \"intervalFactor\": 2,\n              \"legendFormat\": \"Limit: {{"{{"}} container {{"}}"}}\",\n              \"metric\": \"kube_pod_container_resource_limits_memory_bytes\",\n              \"refId\": \"C\",\n              \"step\": 20\n            }\n          ],\n          \"title\": \"CPU Usage\",\n          \"tooltip\": {\n            \"msResolution\": true,\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"cumulative\"\n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\"\
    : true,\n            \"values\": []\n          },\n          \"yaxes\": [\n            {\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\": true\n            },\n            {\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\": true\n            }\n          ]\n        }\n      ],\n      \"showTitle\": false,\n      \"title\": \"Row\",\n      \"titleSize\": \"h6\"\n    },\n    {\n      \"collapse\": false,\n      \"editable\": false,\n      \"height\": \"250px\",\n      \"panels\": [\n        {\n          \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\": \"prometheus\",\n          \"editable\": false,\n          \"error\": false,\n          \"fill\": 1,\n          \"grid\": {\n            \"threshold1Color\": \"rgba(216, 200, 27, 0.27)\",\n            \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\n          },\n\
    \          \"id\": 3,\n          \"isNew\": false,\n          \"legend\": {\n            \"alignAsTable\": true,\n            \"avg\": true,\n            \"current\": true,\n            \"hideEmpty\": false,\n            \"hideZero\": false,\n            \"max\": false,\n            \"min\": false,\n            \"rightSide\": true,\n            \"show\": true,\n            \"total\": false,\n            \"values\": true\n          },\n          \"lines\": true,\n          \"linewidth\": 2,\n          \"links\": [],\n          \"nullPointMode\": \"connected\",\n          \"percentage\": false,\n          \"pointradius\": 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"span\": 12,\n          \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n            {\n              \"expr\": \"sort_desc(sum by (pod_name) (rate(container_network_receive_bytes_total{pod_name=\\\
    \"$pod\\\"}[1m])))\",\n              \"intervalFactor\": 2,\n              \"legendFormat\": \"{{"{{"}} pod_name {{"}}"}}\",\n              \"refId\": \"A\",\n              \"step\": 30\n            }\n          ],\n          \"title\": \"Network I/O\",\n          \"tooltip\": {\n            \"msResolution\": true,\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"cumulative\"\n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": []\n          },\n          \"yaxes\": [\n            {\n              \"format\": \"bytes\",\n              \"logBase\": 1,\n              \"show\": true\n            },\n            {\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\": true\n            }\n          ]\n        }\n      ],\n      \"showTitle\": false,\n      \"title\": \"New Row\",\n      \"titleSize\": \"h6\"\n    }\n  ],\n\
    \  \"schemaVersion\": 14,\n  \"sharedCrosshair\": false,\n  \"style\": \"dark\",\n  \"tags\": [],\n  \"templating\": {\n    \"list\": [\n      {\n        \"allValue\": \".*\",\n        \"current\": {},\n        \"datasource\": \"prometheus\",\n        \"hide\": 0,\n        \"includeAll\": true,\n        \"label\": \"Namespace\",\n        \"multi\": false,\n        \"name\": \"namespace\",\n        \"options\": [],\n        \"query\": \"label_values(kube_pod_info, namespace)\",\n        \"refresh\": 1,\n        \"regex\": \"\",\n        \"sort\": 0,\n        \"tagValuesQuery\": \"\",\n        \"tags\": [],\n        \"tagsQuery\": \"\",\n        \"type\": \"query\",\n        \"useTags\": false\n      },\n      {\n        \"allValue\": null,\n        \"current\": {},\n        \"datasource\": \"prometheus\",\n        \"hide\": 0,\n        \"includeAll\": false,\n        \"label\": \"Pod\",\n        \"multi\": false,\n        \"name\": \"pod\",\n        \"options\": [],\n        \"query\"\
    : \"label_values(kube_pod_info{namespace=~\\\"$namespace\\\"}, pod)\",\n        \"refresh\": 1,\n        \"regex\": \"\",\n        \"sort\": 0,\n        \"tagValuesQuery\": \"\",\n        \"tags\": [],\n        \"tagsQuery\": \"\",\n        \"type\": \"query\",\n        \"useTags\": false\n      },\n      {\n        \"allValue\": \".*\",\n        \"current\": {},\n        \"datasource\": \"prometheus\",\n        \"hide\": 0,\n        \"includeAll\": true,\n        \"label\": \"Container\",\n        \"multi\": false,\n        \"name\": \"container\",\n        \"options\": [],\n        \"query\": \"label_values(kube_pod_container_info{namespace=\\\"$namespace\\\", pod=\\\"$pod\\\"}, container)\",\n        \"refresh\": 1,\n        \"regex\": \"\",\n        \"sort\": 0,\n        \"tagValuesQuery\": \"\",\n        \"tags\": [],\n        \"tagsQuery\": \"\",\n        \"type\": \"query\",\n        \"useTags\": false\n      }\n    ]\n  },\n  \"time\": {\n    \"from\": \"now-6h\",\n    \"to\"\
    : \"now\"\n  },\n  \"timepicker\": {\n    \"refresh_intervals\": [\n      \"5s\",\n      \"10s\",\n      \"30s\",\n      \"1m\",\n      \"5m\",\n      \"15m\",\n      \"30m\",\n      \"1h\",\n      \"2h\",\n      \"1d\"\n    ],\n    \"time_options\": [\n      \"5m\",\n      \"15m\",\n      \"1h\",\n      \"6h\",\n      \"12h\",\n      \"24h\",\n      \"2d\",\n      \"7d\",\n      \"30d\"\n    ]\n  },\n  \"timezone\": \"browser\",\n  \"title\": \"Pods\",\n  \"version\": 1\n}\n"
kind: ConfigMap
metadata:
  labels: {{ include "labels" . | nindent 4 }} {{ cat "app:" .Chart.Name | nindent 4 }}
  name: grafana-dashboard-definition-kubernetes-pods
  namespace: knative-monitoring

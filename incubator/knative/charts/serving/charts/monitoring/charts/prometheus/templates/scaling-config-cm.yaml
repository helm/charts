---
apiVersion: v1
data:
  scaling-dashboard.json: "{  \n   \"__inputs\":[  \n      {  \n         \"name\":\"prometheus\",\n
    \        \"label\":\"prometheus\",\n         \"description\":\"\",\n         \"type\":\"datasource\",\n
    \        \"pluginId\":\"prometheus\",\n         \"pluginName\":\"Prometheus\"\n
    \     }\n   ],\n   \"__requires\":[  \n      {  \n         \"type\":\"grafana\",\n
    \        \"id\":\"grafana\",\n         \"name\":\"Grafana\",\n         \"version\":\"5.0.3\"\n
    \     },\n      {  \n         \"id\":\"graph\",\n         \"name\":\"Graph\",\n
    \        \"type\":\"panel\",\n         \"version\":\"5.0.0\"\n      },\n      {
    \ \n         \"type\":\"datasource\",\n         \"id\":\"prometheus\",\n         \"name\":\"Prometheus\",\n
    \        \"version\":\"5.0.0\"\n      }\n   ],\n   \"annotations\":{  \n      \"list\":[
    \ \n         {  \n            \"builtIn\":1,\n            \"datasource\":\"--
    Grafana --\",\n            \"enable\":true,\n            \"hide\":true,\n            \"iconColor\":\"rgba(0,
    211, 255, 1)\",\n            \"name\":\"Annotations & Alerts\",\n            \"type\":\"dashboard\"\n
    \        }\n      ]\n   },\n   \"description\":\"Knative Serving - Scaling Debugging\",\n
    \  \"editable\":false,\n   \"gnetId\":null,\n   \"graphTooltip\":0,\n   \"id\":null,\n
    \  \"iteration\":1527886043818,\n   \"links\":[  \n\n   ],\n   \"panels\":[  \n
    \     {  \n\n         \"collapsed\":true,\n         \"gridPos\":{  \n            \"h\":1,\n
    \           \"w\":24,\n            \"x\":0,\n            \"y\":0\n         },\n
    \        \"id\":14,\n         \"panels\":[  \n            {  \n               \"aliasColors\":{
    \ \n\n               },\n               \"bars\":false,\n               \"dashLength\":10,\n
    \              \"dashes\":false,\n               \"datasource\":\"prometheus\",\n
    \              \"fill\":1,\n               \"gridPos\":{  \n                  \"h\":11,\n
    \                 \"w\":24,\n                  \"x\":0,\n                  \"y\":1\n
    \              },\n               \"id\":2,\n               \"legend\":{  \n                  \"avg\":false,\n
    \                 \"current\":false,\n                  \"max\":false,\n                  \"min\":false,\n
    \                 \"show\":true,\n                  \"total\":false,\n                  \"values\":false\n
    \              },\n               \"lines\":true,\n               \"linewidth\":1,\n
    \              \"links\":[  \n\n               ],\n               \"nullPointMode\":\"null\",\n
    \              \"percentage\":false,\n               \"pointradius\":5,\n               \"points\":false,\n
    \              \"renderer\":\"flot\",\n               \"seriesOverrides\":[  \n\n
    \              ],\n               \"spaceLength\":10,\n               \"stack\":false,\n
    \              \"steppedLine\":true,\n               \"targets\":[  \n                  {
    \ \n                     \"expr\":\"sum(autoscaler_actual_pod_count{configuration_namespace=\\\"$namespace\\\",
    configuration=\\\"$configuration\\\", revision=\\\"$revision\\\"})\",\n                     \"format\":\"time_series\",\n
    \                    \"interval\":\"1s\",\n                     \"intervalFactor\":1,\n
    \                    \"legendFormat\":\"Actual Pods\",\n                     \"refId\":\"A\"\n
    \                 },\n                  {  \n                     \"expr\":\"sum(autoscaler_requested_pod_count{configuration_namespace=\\\"$namespace\\\",
    configuration=\\\"$configuration\\\", revision=\\\"$revision\\\"})\",\n                     \"format\":\"time_series\",\n
    \                    \"interval\":\"1s\",\n                     \"intervalFactor\":1,\n
    \                    \"legendFormat\":\"Requested Pods\",\n                     \"refId\":\"C\"\n
    \                 }\n               ],\n               \"thresholds\":[  \n\n
    \              ],\n               \"timeFrom\":null,\n               \"timeShift\":null,\n
    \              \"title\":\"Revision Pod Counts\",\n               \"tooltip\":{
    \ \n                  \"shared\":true,\n                  \"sort\":0,\n                  \"value_type\":\"individual\"\n
    \              },\n               \"type\":\"graph\",\n               \"xaxis\":{
    \ \n                  \"buckets\":null,\n                  \"mode\":\"time\",\n
    \                 \"name\":null,\n                  \"show\":true,\n                  \"values\":[
    \ \n\n                  ]\n               },\n               \"yaxes\":[  \n                  {
    \ \n                     \"format\":\"short\",\n                     \"label\":null,\n
    \                    \"logBase\":1,\n                     \"max\":null,\n                     \"min\":null,\n
    \                    \"show\":true\n                  },\n                  {
    \ \n                     \"decimals\":null,\n                     \"format\":\"short\",\n
    \                    \"label\":\"Concurrency\",\n                     \"logBase\":1,\n
    \                    \"max\":\"1\",\n                     \"min\":null,\n                     \"show\":false\n
    \                 }\n               ]\n            }\n         ],\n         \"title\":\"Revision
    Pod Counts\",\n         \"type\":\"row\"\n      },\n      {  \n         \"collapsed\":true,\n
    \        \"gridPos\":{  \n            \"h\":1,\n            \"w\":24,\n            \"x\":0,\n
    \           \"y\":1\n         },\n         \"id\":18,\n         \"panels\":[  \n
    \           {  \n               \"aliasColors\":{  \n\n               },\n               \"bars\":false,\n
    \              \"dashLength\":10,\n               \"dashes\":false,\n               \"datasource\":\"prometheus\",\n
    \              \"fill\":1,\n               \"gridPos\":{  \n                  \"h\":9,\n
    \                 \"w\":12,\n                  \"x\":0,\n                  \"y\":13\n
    \              },\n               \"id\":4,\n               \"legend\":{  \n                  \"avg\":false,\n
    \                 \"current\":false,\n                  \"max\":false,\n                  \"min\":false,\n
    \                 \"show\":true,\n                  \"total\":false,\n                  \"values\":false\n
    \              },\n               \"lines\":true,\n               \"linewidth\":1,\n
    \              \"links\":[  \n\n               ],\n               \"nullPointMode\":\"null\",\n
    \              \"percentage\":false,\n               \"pointradius\":5,\n               \"points\":false,\n
    \              \"renderer\":\"flot\",\n               \"seriesOverrides\":[  \n\n
    \              ],\n               \"spaceLength\":10,\n               \"stack\":false,\n
    \              \"steppedLine\":false,\n               \"targets\":[  \n                  {
    \ \n                     \"expr\":\"sum(kube_pod_container_resource_requests_cpu_cores{namespace=\\\"$namespace\\\",
    pod=~\\\"$revision-deployment-.*\\\"})\",\n                     \"format\":\"time_series\",\n
    \                    \"interval\":\"\",\n                     \"intervalFactor\":1,\n
    \                    \"legendFormat\":\"Cores requested\",\n                     \"refId\":\"A\"\n
    \                 },\n                  {  \n                     \"expr\":\"sum(rate(container_cpu_usage_seconds_total{namespace=\\\"$namespace\\\",
    pod_name=~\\\"$revision-deployment-.*\\\"}[1m]))\",\n                     \"format\":\"time_series\",\n
    \                    \"intervalFactor\":1,\n                     \"legendFormat\":\"Cores
    used\",\n                     \"refId\":\"B\"\n                  },\n                  {
    \ \n                     \"expr\":\"sum(kube_pod_container_resource_limits_cpu_cores{namespace=\\\"$namespace\\\",
    pod=~\\\"$revision-deployment-.*\\\"})\",\n                     \"format\":\"time_series\",\n
    \                    \"intervalFactor\":1,\n                     \"legendFormat\":\"Core
    limit\",\n                     \"refId\":\"C\"\n                  }\n               ],\n
    \              \"thresholds\":[  \n\n               ],\n               \"timeFrom\":null,\n
    \              \"timeShift\":null,\n               \"title\":\"Revision CPU Usage\",\n
    \              \"tooltip\":{  \n                  \"shared\":true,\n                  \"sort\":2,\n
    \                 \"value_type\":\"individual\"\n               },\n               \"type\":\"graph\",\n
    \              \"xaxis\":{  \n                  \"buckets\":null,\n                  \"mode\":\"time\",\n
    \                 \"name\":null,\n                  \"show\":true,\n                  \"values\":[
    \ \n\n                  ]\n               },\n               \"yaxes\":[  \n                  {
    \ \n                     \"decimals\":null,\n                     \"format\":\"short\",\n
    \                    \"label\":null,\n                     \"logBase\":1,\n                     \"max\":null,\n
    \                    \"min\":null,\n                     \"show\":true\n                  },\n
    \                 {  \n                     \"format\":\"short\",\n                     \"label\":null,\n
    \                    \"logBase\":1,\n                     \"max\":null,\n                     \"min\":null,\n
    \                    \"show\":false\n                  }\n               ]\n            },\n
    \           {  \n               \"aliasColors\":{  \n\n               },\n               \"bars\":false,\n
    \              \"dashLength\":10,\n               \"dashes\":false,\n               \"datasource\":\"prometheus\",\n
    \              \"fill\":1,\n               \"gridPos\":{  \n                  \"h\":9,\n
    \                 \"w\":12,\n                  \"x\":12,\n                  \"y\":13\n
    \              },\n               \"id\":6,\n               \"legend\":{  \n                  \"avg\":false,\n
    \                 \"current\":false,\n                  \"max\":false,\n                  \"min\":false,\n
    \                 \"show\":true,\n                  \"total\":false,\n                  \"values\":false\n
    \              },\n               \"lines\":true,\n               \"linewidth\":1,\n
    \              \"links\":[  \n\n               ],\n               \"nullPointMode\":\"null\",\n
    \              \"percentage\":false,\n               \"pointradius\":5,\n               \"points\":false,\n
    \              \"renderer\":\"flot\",\n               \"seriesOverrides\":[  \n\n
    \              ],\n               \"spaceLength\":10,\n               \"stack\":false,\n
    \              \"steppedLine\":false,\n               \"targets\":[  \n                  {
    \ \n                     \"expr\":\"sum(kube_pod_container_resource_requests_memory_bytes{namespace=\\\"$namespace\\\",
    pod=~\\\"$revision-deployment-.*\\\"})\",\n                     \"format\":\"time_series\",\n
    \                    \"interval\":\"\",\n                     \"intervalFactor\":1,\n
    \                    \"legendFormat\":\"Memory requested\",\n                     \"refId\":\"A\"\n
    \                 },\n                  {  \n                     \"expr\":\"sum(container_memory_usage_bytes{namespace=\\\"$namespace\\\",
    pod_name=~\\\"$revision-deployment-.*\\\"})\",\n                     \"format\":\"time_series\",\n
    \                    \"hide\":false,\n                     \"intervalFactor\":1,\n
    \                    \"legendFormat\":\"Memory used\",\n                     \"refId\":\"B\"\n
    \                 },\n                  {  \n                     \"expr\":\"sum(kube_pod_container_resource_limits_memory_bytes{namespace=\\\"$namespace\\\",
    pod=~\\\"$revision-deployment-.*\\\"})\",\n                     \"format\":\"time_series\",\n
    \                    \"intervalFactor\":1,\n                     \"refId\":\"C\"\n
    \                 }\n               ],\n               \"thresholds\":[  \n\n
    \              ],\n               \"timeFrom\":null,\n               \"timeShift\":null,\n
    \              \"title\":\"Pod Memory Usage\",\n               \"tooltip\":{  \n
    \                 \"shared\":true,\n                  \"sort\":2,\n                  \"value_type\":\"individual\"\n
    \              },\n               \"type\":\"graph\",\n               \"xaxis\":{
    \ \n                  \"buckets\":null,\n                  \"mode\":\"time\",\n
    \                 \"name\":null,\n                  \"show\":true,\n                  \"values\":[
    \ \n\n                  ]\n               },\n               \"yaxes\":[  \n                  {
    \ \n                     \"format\":\"decbytes\",\n                     \"label\":null,\n
    \                    \"logBase\":1,\n                     \"max\":null,\n                     \"min\":null,\n
    \                    \"show\":true\n                  },\n                  {
    \ \n                     \"format\":\"short\",\n                     \"label\":null,\n
    \                    \"logBase\":1,\n                     \"max\":null,\n                     \"min\":null,\n
    \                    \"show\":false\n                  }\n               ]\n            }\n
    \        ],\n         \"title\":\"Resource Usages\",\n         \"type\":\"row\"\n
    \     },\n      {  \n         \"collapsed\":true,\n         \"gridPos\":{  \n
    \           \"h\":1,\n            \"w\":24,\n            \"x\":0,\n            \"y\":2\n
    \        },\n         \"id\":16,\n         \"panels\":[  \n            {  \n               \"aliasColors\":{
    \ \n\n               },\n               \"bars\":false,\n               \"dashLength\":10,\n
    \              \"dashes\":false,\n               \"datasource\":\"prometheus\",\n
    \              \"fill\":1,\n               \"gridPos\":{  \n                  \"h\":10,\n
    \                 \"w\":24,\n                  \"x\":0,\n                  \"y\":3\n
    \              },\n               \"id\":10,\n               \"legend\":{  \n
    \                 \"avg\":false,\n                  \"current\":false,\n                  \"max\":false,\n
    \                 \"min\":false,\n                  \"show\":true,\n                  \"total\":false,\n
    \                 \"values\":false\n               },\n               \"lines\":true,\n
    \              \"linewidth\":1,\n               \"links\":[  \n\n               ],\n
    \              \"nullPointMode\":\"null\",\n               \"percentage\":false,\n
    \              \"pointradius\":5,\n               \"points\":false,\n               \"renderer\":\"flot\",\n
    \              \"seriesOverrides\":[  \n\n               ],\n               \"spaceLength\":10,\n
    \              \"stack\":false,\n               \"steppedLine\":true,\n               \"targets\":[
    \ \n                  {  \n                     \"expr\":\"sum(autoscaler_desired_pod_count{configuration_namespace=\\\"$namespace\\\",
    configuration=\\\"$configuration\\\", revision=\\\"$revision\\\"}) \",\n                     \"format\":\"time_series\",\n
    \                    \"intervalFactor\":1,\n                     \"legendFormat\":\"Desired
    Pods\",\n                     \"refId\":\"A\"\n                  },\n                  {
    \ \n                     \"expr\":\"sum(autoscaler_observed_pod_count{configuration_namespace=\\\"$namespace\\\",
    configuration=\\\"$configuration\\\", revision=\\\"$revision\\\"})\",\n                     \"format\":\"time_series\",\n
    \                    \"intervalFactor\":1,\n                     \"legendFormat\":\"Observed
    Pods\",\n                     \"refId\":\"B\"\n                  }\n               ],\n
    \              \"thresholds\":[  \n\n               ],\n               \"timeFrom\":null,\n
    \              \"timeShift\":null,\n               \"title\":\"Pod Counts\",\n
    \              \"tooltip\":{  \n                  \"shared\":true,\n                  \"sort\":0,\n
    \                 \"value_type\":\"individual\"\n               },\n               \"type\":\"graph\",\n
    \              \"xaxis\":{  \n                  \"buckets\":null,\n                  \"mode\":\"time\",\n
    \                 \"name\":null,\n                  \"show\":true,\n                  \"values\":[
    \ \n\n                  ]\n               },\n               \"yaxes\":[  \n                  {
    \ \n                     \"format\":\"short\",\n                     \"label\":null,\n
    \                    \"logBase\":1,\n                     \"max\":null,\n                     \"min\":null,\n
    \                    \"show\":true\n                  },\n                  {
    \ \n                     \"format\":\"short\",\n                     \"label\":null,\n
    \                    \"logBase\":1,\n                     \"max\":null,\n                     \"min\":null,\n
    \                    \"show\":true\n                  }\n               ]\n            },\n
    \           {  \n               \"aliasColors\":{  \n\n               },\n               \"bars\":false,\n
    \              \"dashLength\":10,\n               \"dashes\":false,\n               \"datasource\":\"prometheus\",\n
    \              \"fill\":1,\n               \"gridPos\":{  \n                  \"h\":9,\n
    \                 \"w\":24,\n                  \"x\":0,\n                  \"y\":13\n
    \              },\n               \"id\":8,\n               \"legend\":{  \n                  \"avg\":false,\n
    \                 \"current\":false,\n                  \"max\":false,\n                  \"min\":false,\n
    \                 \"show\":true,\n                  \"total\":false,\n                  \"values\":false\n
    \              },\n               \"lines\":true,\n               \"linewidth\":1,\n
    \              \"links\":[  \n\n               ],\n               \"nullPointMode\":\"null\",\n
    \              \"percentage\":false,\n               \"pointradius\":5,\n               \"points\":false,\n
    \              \"renderer\":\"flot\",\n               \"seriesOverrides\":[  \n
    \                 {  \n                     \"alias\":\"Panic Mode\",\n                     \"color\":\"#ea6460\",\n
    \                    \"dashes\":true,\n                     \"fill\":2,\n                     \"linewidth\":2,\n
    \                    \"steppedLine\":true,\n                     \"yaxis\":2\n
    \                 },\n                  {  \n                     \"alias\":\"Target
    Concurrency Per Pod\",\n                     \"color\":\"#0a50a1\",\n                     \"dashes\":true,\n
    \                    \"steppedLine\":false\n                  }\n               ],\n
    \              \"spaceLength\":10,\n               \"stack\":false,\n               \"steppedLine\":true,\n
    \              \"targets\":[  \n                  {  \n                     \"expr\":\"sum(autoscaler_observed_stable_concurrency{configuration_namespace=\\\"$namespace\\\",
    configuration=\\\"$configuration\\\", revision=\\\"$revision\\\"})\",\n                     \"format\":\"time_series\",\n
    \                    \"interval\":\"1s\",\n                     \"intervalFactor\":1,\n
    \                    \"legendFormat\":\"60 Second Average Concurrency\",\n                     \"refId\":\"A\"\n
    \                 },\n                  {  \n                     \"expr\":\"sum(autoscaler_observed_panic_concurrency{configuration_namespace=\\\"$namespace\\\",
    configuration=\\\"$configuration\\\", revision=\\\"$revision\\\"})\",\n                     \"format\":\"time_series\",\n
    \                    \"interval\":\"1s\",\n                     \"intervalFactor\":1,\n
    \                    \"legendFormat\":\"6 Second Average Panic Concurrency\",\n
    \                    \"refId\":\"B\"\n                  },\n                  {
    \ \n                     \"expr\":\"sum(autoscaler_target_concurrency_per_pod{configuration_namespace=\\\"$namespace\\\",
    configuration=\\\"$configuration\\\", revision=\\\"$revision\\\"})\",\n                     \"format\":\"time_series\",\n
    \                    \"intervalFactor\":1,\n                     \"legendFormat\":\"60
    Second Target Concurrency\",\n                     \"refId\":\"C\"\n                  }\n
    \              ],\n               \"thresholds\":[  \n\n               ],\n               \"timeFrom\":null,\n
    \              \"timeShift\":null,\n               \"title\":\"Observed Concurrency\",\n
    \              \"tooltip\":{  \n                  \"shared\":true,\n                  \"sort\":0,\n
    \                 \"value_type\":\"individual\"\n               },\n               \"type\":\"graph\",\n
    \              \"xaxis\":{  \n                  \"buckets\":null,\n                  \"mode\":\"time\",\n
    \                 \"name\":null,\n                  \"show\":true,\n                  \"values\":[
    \ \n\n                  ]\n               },\n               \"yaxes\":[  \n                  {
    \ \n                     \"format\":\"short\",\n                     \"label\":\"\",\n
    \                    \"logBase\":1,\n                     \"max\":null,\n                     \"min\":null,\n
    \                    \"show\":true\n                  },\n                  {
    \ \n                     \"format\":\"short\",\n                     \"label\":\"\",\n
    \                    \"logBase\":1,\n                     \"max\":null,\n                     \"min\":null,\n
    \                    \"show\":false\n                  }\n               ]\n            },\n
    \           {  \n               \"aliasColors\":{  \n\n               },\n               \"bars\":false,\n
    \              \"dashLength\":10,\n               \"dashes\":false,\n               \"datasource\":\"prometheus\",\n
    \              \"decimals\":null,\n               \"fill\":1,\n               \"gridPos\":{
    \ \n                  \"h\":9,\n                  \"w\":24,\n                  \"x\":0,\n
    \                 \"y\":22\n               },\n               \"id\":12,\n               \"legend\":{
    \ \n                  \"avg\":false,\n                  \"current\":false,\n                  \"hideZero\":false,\n
    \                 \"max\":false,\n                  \"min\":false,\n                  \"show\":false,\n
    \                 \"total\":false,\n                  \"values\":false\n               },\n
    \              \"lines\":true,\n               \"linewidth\":1,\n               \"links\":[
    \ \n\n               ],\n               \"nullPointMode\":\"null\",\n               \"percentage\":false,\n
    \              \"pointradius\":5,\n               \"points\":false,\n               \"renderer\":\"flot\",\n
    \              \"seriesOverrides\":[  \n                  {  \n                     \"alias\":\"Panic
    Mode\",\n                     \"color\":\"#e24d42\",\n                     \"linewidth\":2,\n
    \                    \"yaxis\":2\n                  }\n               ],\n               \"spaceLength\":10,\n
    \              \"stack\":false,\n               \"steppedLine\":true,\n               \"targets\":[
    \ \n                  {  \n                     \"expr\":\"sum(autoscaler_panic_mode{configuration_namespace=\\\"$namespace\\\",
    configuration=\\\"$configuration\\\", revision=\\\"$revision\\\"} )\",\n                     \"format\":\"time_series\",\n
    \                    \"intervalFactor\":1,\n                     \"legendFormat\":\"Panic
    Mode\",\n                     \"refId\":\"A\"\n                  }\n               ],\n
    \              \"thresholds\":[  \n\n               ],\n               \"timeFrom\":null,\n
    \              \"timeShift\":null,\n               \"title\":\"Panic Mode\",\n
    \              \"tooltip\":{  \n                  \"shared\":true,\n                  \"sort\":0,\n
    \                 \"value_type\":\"individual\"\n               },\n               \"type\":\"graph\",\n
    \              \"xaxis\":{  \n                  \"buckets\":null,\n                  \"mode\":\"time\",\n
    \                 \"name\":null,\n                  \"show\":true,\n                  \"values\":[
    \ \n\n                  ]\n               },\n               \"yaxes\":[  \n                  {
    \ \n                     \"format\":\"short\",\n                     \"label\":null,\n
    \                    \"logBase\":1,\n                     \"max\":\"1.0\",\n                     \"min\":\"0\",\n
    \                    \"show\":true\n                  },\n                  {
    \ \n                     \"format\":\"short\",\n                     \"label\":null,\n
    \                    \"logBase\":1,\n                     \"max\":null,\n                     \"min\":null,\n
    \                    \"show\":false\n                  }\n               ]\n            }\n
    \        ],\n         \"title\":\"Autoscaler Metrics\",\n         \"type\":\"row\"\n
    \     },\n      {  \n         \"collapsed\":true,\n         \"gridPos\":{  \n
    \           \"h\":1,\n            \"w\":24,\n            \"x\":0,\n            \"y\":3\n
    \        },\n         \"id\":20,\n         \"panels\":[  \n                     {
    \ \n                        \"aliasColors\":{  \n\n                        },\n
    \                       \"bars\":false,\n                        \"dashLength\":10,\n
    \                       \"dashes\":false,\n                        \"datasource\":\"prometheus\",\n
    \                       \"fill\":1,\n                        \"gridPos\":{  \n
    \                          \"h\":11,\n                           \"w\":24,\n                           \"x\":0,\n
    \                          \"y\":1\n                        },\n                        \"id\":22,\n
    \                       \"legend\":{  \n                           \"avg\":false,\n
    \                          \"current\":false,\n                           \"max\":false,\n
    \                          \"min\":false,\n                           \"show\":true,\n
    \                          \"total\":false,\n                           \"values\":false\n
    \                       },\n                        \"lines\":true,\n                        \"linewidth\":1,\n
    \                       \"links\":[  \n\n                        ],\n                        \"nullPointMode\":\"null\",\n
    \                       \"percentage\":false,\n                        \"pointradius\":5,\n
    \                       \"points\":false,\n                        \"renderer\":\"flot\",\n
    \                       \"seriesOverrides\":[  \n\n                        ],\n
    \                       \"spaceLength\":10,\n                        \"stack\":false,\n
    \                       \"steppedLine\":false,\n                        \"targets\":[
    \ \n                           {  \n                              \"expr\":\"label_replace(sum(increase(activator_revision_request_count{destination_namespace=\\\"$namespace\\\",
    destination_configuration=~\\\"$configuration\\\",destination_revision=~\\\"$revision\\\"}[1m]))
    by (destination_revision), \\\"destination_revision\\\", \\\"$2\\\", \\\"destination_revision\\\",
    \\\"$configuration(-+)(.*)\\\")\",\n                              \"format\":\"time_series\",\n
    \                             \"interval\":\"\",\n                              \"intervalFactor\":1,\n
    \                             \"legendFormat\":\"{{"{{"}} destination_revision {{"}}"}}\",\n
    \                             \"refId\":\"A\"\n                           }\n
    \                       ],\n                        \"thresholds\":[  \n\n                        ],\n
    \                       \"timeFrom\":null,\n                        \"timeShift\":null,\n
    \                       \"title\":\"Request Count in last minute by Revision\",\n
    \                       \"tooltip\":{  \n                           \"shared\":true,\n
    \                          \"sort\":0,\n                           \"value_type\":\"individual\"\n
    \                       },\n                        \"type\":\"graph\",\n                        \"xaxis\":{
    \ \n                           \"buckets\":null,\n                           \"mode\":\"time\",\n
    \                          \"name\":null,\n                           \"show\":true,\n
    \                          \"values\":[  \n\n                           ]\n                        },\n
    \                       \"yaxes\":[  \n                           {  \n                              \"format\":\"none\",\n
    \                             \"label\":null,\n                              \"logBase\":1,\n
    \                             \"max\":null,\n                              \"min\":\"0\",\n
    \                             \"show\":true\n                           },\n                           {
    \ \n                              \"format\":\"short\",\n                              \"label\":null,\n
    \                             \"logBase\":1,\n                              \"max\":null,\n
    \                             \"min\":null,\n                              \"show\":true\n
    \                          }\n                        ]\n                     },\n
    \                    {  \n                        \"aliasColors\":{  \n\n                        },\n
    \                       \"bars\":false,\n                        \"dashLength\":10,\n
    \                       \"dashes\":false,\n                        \"datasource\":\"prometheus\",\n
    \                       \"fill\":1,\n                        \"gridPos\":{  \n
    \                          \"h\":10,\n                           \"w\":24,\n                           \"x\":0,\n
    \                          \"y\":12\n                        },\n                        \"id\":24,\n
    \                       \"legend\":{  \n                           \"avg\":false,\n
    \                          \"current\":false,\n                           \"max\":false,\n
    \                          \"min\":false,\n                           \"show\":true,\n
    \                          \"total\":false,\n                           \"values\":false\n
    \                       },\n                        \"lines\":true,\n                        \"linewidth\":1,\n
    \                       \"links\":[  \n\n                        ],\n                        \"nullPointMode\":\"null\",\n
    \                       \"percentage\":false,\n                        \"pointradius\":5,\n
    \                       \"points\":false,\n                        \"renderer\":\"flot\",\n
    \                       \"seriesOverrides\":[  \n\n                        ],\n
    \                       \"spaceLength\":10,\n                        \"stack\":false,\n
    \                       \"steppedLine\":false,\n                        \"targets\":[
    \ \n                           {  \n                              \"expr\":\"round(sum(increase(activator_revision_response_count{destination_namespace=\\\"$namespace\\\",
    destination_configuration=~\\\"$configuration\\\",destination_revision=~\\\"$revision\\\"}[1m]))
    by (response_code))\",\n                              \"format\":\"time_series\",\n
    \                             \"intervalFactor\":1,\n                              \"legendFormat\":\"
    {{"{{"}} response_code {{"}}"}}\",\n                              \"refId\":\"A\"\n                           }\n
    \                       ],\n                        \"thresholds\":[  \n\n                        ],\n
    \                       \"timeFrom\":null,\n                        \"timeShift\":null,\n
    \                       \"title\":\"Response Count in last minute by Response
    Code\",\n                        \"tooltip\":{  \n                           \"shared\":true,\n
    \                          \"sort\":0,\n                           \"value_type\":\"individual\"\n
    \                       },\n                        \"type\":\"graph\",\n                        \"xaxis\":{
    \ \n                           \"buckets\":null,\n                           \"mode\":\"time\",\n
    \                          \"name\":null,\n                           \"show\":true,\n
    \                          \"values\":[  \n\n                           ]\n                        },\n
    \                       \"yaxes\":[  \n                           {  \n                              \"format\":\"none\",\n
    \                             \"label\":null,\n                              \"logBase\":1,\n
    \                             \"max\":null,\n                              \"min\":\"0\",\n
    \                             \"show\":true\n                           },\n                           {
    \ \n                              \"format\":\"short\",\n                              \"label\":null,\n
    \                             \"logBase\":1,\n                              \"max\":null,\n
    \                             \"min\":null,\n                              \"show\":true\n
    \                          }\n                        ]\n                     },\n
    \                    {  \n                        \"aliasColors\":{  \n\n                        },\n
    \                       \"bars\":false,\n                        \"dashLength\":10,\n
    \                       \"dashes\":false,\n                        \"datasource\":\"prometheus\",\n
    \                       \"fill\":1,\n                        \"gridPos\":{  \n
    \                          \"h\":10,\n                           \"w\":24,\n                           \"x\":0,\n
    \                          \"y\":32\n                        },\n                        \"id\":28,\n
    \                       \"legend\":{  \n                           \"avg\":true,\n
    \                          \"current\":false,\n                           \"max\":false,\n
    \                          \"min\":false,\n                           \"show\":true,\n
    \                          \"total\":false,\n                           \"values\":true\n
    \                       },\n                        \"lines\":true,\n                        \"linewidth\":1,\n
    \                       \"links\":[  \n\n                        ],\n                        \"nullPointMode\":\"null\",\n
    \                       \"percentage\":false,\n                        \"pointradius\":5,\n
    \                       \"points\":false,\n                        \"renderer\":\"flot\",\n
    \                       \"seriesOverrides\":[  \n\n                        ],\n
    \                       \"spaceLength\":10,\n                        \"stack\":false,\n
    \                       \"steppedLine\":false,\n                        \"targets\":[
    \ \n                           {  \n                              \"expr\":\"label_replace(histogram_quantile(0.50,
    sum(rate(activator_response_time_msec_bucket{destination_namespace=\\\"$namespace\\\",
    destination_configuration=~\\\"$configuration\\\",destination_revision=~\\\"$revision\\\"}[1m]))
    by (destination_revision, le)), \\\"destination_revision\\\", \\\"$2\\\", \\\"destination_revision\\\",
    \\\"$configuration(-+)(.*)\\\")\",\n                              \"format\":\"time_series\",\n
    \                             \"intervalFactor\":1,\n                              \"legendFormat\":\"
    {{"{{"}} destination_revision {{"}}"}} (p50)\",\n                              \"refId\":\"A\"\n
    \                          },\n                           {  \n                              \"expr\":\"label_replace(histogram_quantile(0.90,
    sum(rate(activator_response_time_msec_bucket{destination_namespace=\\\"$namespace\\\",
    destination_configuration=~\\\"$configuration\\\",destination_revision=~\\\"$revision\\\"}[1m]))
    by (destination_revision, le)), \\\"destination_revision\\\", \\\"$2\\\", \\\"destination_revision\\\",
    \\\"$configuration(-+)(.*)\\\")\",\n                              \"format\":\"time_series\",\n
    \                             \"intervalFactor\":1,\n                              \"legendFormat\":\"
    {{"{{"}} destination_revision {{"}}"}} (p90)\",\n                              \"refId\":\"B\"\n
    \                          },\n                           {  \n                              \"expr\":\"label_replace(histogram_quantile(0.95,
    sum(rate(activator_response_time_msec_bucket{destination_namespace=\\\"$namespace\\\",
    destination_configuration=~\\\"$configuration\\\",destination_revision=~\\\"$revision\\\"}[1m]))
    by (destination_revision, le)), \\\"destination_revision\\\", \\\"$2\\\", \\\"destination_revision\\\",
    \\\"$configuration(-+)(.*)\\\")\",\n                              \"format\":\"time_series\",\n
    \                             \"intervalFactor\":1,\n                              \"legendFormat\":\"
    {{"{{"}} destination_revision {{"}}"}} (p95)\",\n                              \"refId\":\"C\"\n
    \                          },\n                           {  \n                              \"expr\":\"label_replace(histogram_quantile(0.99,
    sum(rate(activator_response_time_msec_bucket{destination_namespace=\\\"$namespace\\\",
    destination_configuration=~\\\"$configuration\\\",destination_revision=~\\\"$revision\\\"}[1m]))
    by (destination_revision, le)), \\\"destination_revision\\\", \\\"$2\\\", \\\"destination_revision\\\",
    \\\"$configuration(-+)(.*)\\\")\",\n                              \"format\":\"time_series\",\n
    \                             \"intervalFactor\":1,\n                              \"legendFormat\":\"
    {{"{{"}} destination_revision {{"}}"}} (p99)\",\n                              \"refId\":\"D\"\n
    \                          }\n                        ],\n                        \"thresholds\":[
    \ \n\n                        ],\n                        \"timeFrom\":null,\n
    \                       \"timeShift\":null,\n                        \"title\":\"Response
    Time in last minute\",\n                        \"tooltip\":{  \n                           \"shared\":true,\n
    \                          \"sort\":0,\n                           \"value_type\":\"individual\"\n
    \                       },\n                        \"type\":\"graph\",\n                        \"xaxis\":{
    \ \n                           \"buckets\":null,\n                           \"mode\":\"time\",\n
    \                          \"name\":null,\n                           \"show\":true,\n
    \                          \"values\":[  \n\n                           ]\n                        },\n
    \                       \"yaxes\":[  \n                           {  \n                              \"format\":\"ms\",\n
    \                             \"label\":null,\n                              \"logBase\":1,\n
    \                             \"max\":null,\n                              \"min\":null,\n
    \                             \"show\":true\n                           },\n                           {
    \ \n                              \"format\":\"short\",\n                              \"label\":null,\n
    \                             \"logBase\":1,\n                              \"max\":null,\n
    \                             \"min\":null,\n                              \"show\":true\n
    \                          }\n                         ]\n                       }
    \    \n         ],\n         \"title\":\"Activator Metrics\",\n         \"type\":\"row\"\n
    \     }\n   ],\n   \"refresh\":false,\n   \"schemaVersion\":16,\n   \"style\":\"dark\",\n
    \  \"tags\":[  \n\n   ],\n   \"templating\":{  \n      \"list\":[  \n         {
    \ \n            \"allValue\":null,\n            \"current\":{  \n\n            },\n
    \           \"datasource\":\"prometheus\",\n            \"hide\":0,\n            \"includeAll\":false,\n
    \           \"label\":\"Namespace\",\n            \"multi\":false,\n            \"name\":\"namespace\",\n
    \           \"options\":[  \n\n            ],\n            \"query\":\"label_values(autoscaler_observed_pod_count,
    configuration_namespace)\",\n            \"refresh\":1,\n            \"regex\":\"\",\n
    \           \"sort\":1,\n            \"tagValuesQuery\":\"\",\n            \"tags\":[
    \ \n\n            ],\n            \"tagsQuery\":\"\",\n            \"type\":\"query\",\n
    \           \"useTags\":false\n         },\n         {  \n            \"allValue\":null,\n
    \           \"current\":{  \n\n            },\n            \"datasource\":\"prometheus\",\n
    \           \"hide\":0,\n            \"includeAll\":false,\n            \"label\":\"Configuration\",\n
    \           \"multi\":false,\n            \"name\":\"configuration\",\n            \"options\":[
    \ \n\n            ],\n            \"query\":\"label_values(autoscaler_observed_pod_count{configuration_namespace=\\\"$namespace\\\"},
    configuration)\",\n            \"refresh\":1,\n            \"regex\":\"\",\n            \"sort\":1,\n
    \           \"tagValuesQuery\":\"\",\n            \"tags\":[  \n\n            ],\n
    \           \"tagsQuery\":\"\",\n            \"type\":\"query\",\n            \"useTags\":false\n
    \        },\n         {  \n            \"allValue\":null,\n            \"current\":{
    \ \n\n            },\n            \"datasource\":\"prometheus\",\n            \"hide\":0,\n
    \           \"includeAll\":false,\n            \"label\":\"Revision\",\n            \"multi\":false,\n
    \           \"name\":\"revision\",\n            \"options\":[  \n\n            ],\n
    \           \"query\":\"label_values(autoscaler_observed_pod_count{configuration_namespace=\\\"$namespace\\\",
    configuration=\\\"$configuration\\\"}, revision)\",\n            \"refresh\":1,\n
    \           \"regex\":\"\",\n            \"sort\":2,\n            \"tagValuesQuery\":\"\",\n
    \           \"tags\":[  \n\n            ],\n            \"tagsQuery\":\"\",\n
    \           \"type\":\"query\",\n            \"useTags\":false\n         }\n      ]\n
    \  },\n   \"time\":{  \n      \"from\":\"now-15m\",\n      \"to\":\"now\"\n   },\n
    \  \"timepicker\":{  \n      \"refresh_intervals\":[  \n         \"5s\",\n         \"10s\",\n
    \        \"30s\",\n         \"1m\",\n         \"5m\",\n         \"15m\",\n         \"30m\",\n
    \        \"1h\",\n         \"2h\",\n         \"1d\"\n      ],\n      \"time_options\":[
    \ \n         \"5m\",\n         \"15m\",\n         \"1h\",\n         \"6h\",\n
    \        \"12h\",\n         \"24h\",\n         \"2d\",\n         \"7d\",\n         \"30d\"\n
    \     ]\n   },\n   \"timezone\":\"\",\n   \"title\":\"Knative Serving - Scaling
    Debugging\",\n   \"uid\":\"u_-9SIMiz\",\n   \"version\":2\n}\n"
kind: ConfigMap
metadata:
  name: {{ .Values.configMaps.scalingName | quote }}
  namespace: "knative-monitoring"
  labels: {{ include "labels" . | nindent 4 }}
    app: {{ .Values.configMaps.scalingName | quote }}
---
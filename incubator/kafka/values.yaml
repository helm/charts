# ------------------------------------------------------------------------------
# Kafka:
# ------------------------------------------------------------------------------

Replicas: 3
Image: "solsson/kafka"
ImageTag: "0.11.0.0"
ImagePullPolicy: "IfNotPresent"
resources: {}
  # limits:
  #   cpu: 200m
  #   memory: 1536Mi
  # requests:
  #   cpu: 100m
  #   memory: 1024Mi
Storage: "1Gi"
# StorageClass: default
DataDirectory: "/opt/kafka/data"

## Attempt to prevent Kafka pods from being colocated with eachother.
kafkaAntiAffinityEnabled: true
## Prevent Kafka pods from being colocated on the same node.
## Any value other than `hard` simply defaults to `soft` antiaffinity rules.
## See: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#inter-pod-affinity-and-anti-affinity-beta-feature
kafkaAntiAffinity: "hard"

## Attempt to prevent Kafka and Zookeeper pods from being colocated.
zookeeperAntiAffinityEnabled: true
## Prevent Kafka and Zookeeper pods from being colocated.
## Any value other than `hard` simply defaults to `soft` antiaffinity rules.
## See: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#inter-pod-affinity-and-anti-affinity-beta-feature
zookeeperAntiAffinity: "hard"
## The zookeeper pod name which K8s will fuzzy-match against to prevent kafka
## pods from being colocated with zookeeper. If you have more than one zookeeper
## installation in your cluster, make sure to use a more specific pod name to
## indicate which zookeeper pods should be filtered.
zookeeperAntiAffinityPodName: "zookeeper"

# ------------------------------------------------------------------------------
# Zookeeper:
# ------------------------------------------------------------------------------

zookeeper:
  Enabled: true
  Servers: 3
  Resources: {}
  Heap: "1G"
  Storage: "2Gi"
  # StorageClass: default
  ServerPort: 2888
  LeaderElectionPort: 3888
  ClientPort: 2181
  ImagePullPolicy: "IfNotPresent"
  TickTimeMs: 2000
  InitTicks: 10
  SyncTicks: 5
  ClientCnxns: 60
  SnapRetain: 3
  PurgeHours: 1
  ProbeInitialDelaySeconds: 15
  ProbeTimeoutSeconds: 5
  AntiAffinity: "hard"
  LogLevel: "INFO"
  # If the Zookeeper Chart is disabled a URL and port are required to connect
  Url: ""
  Port: 2181

# ------------------------------------------------------------------------------
# Schema Registry:
# ------------------------------------------------------------------------------

## Install Confluent Schema Registry server alongside Kafka to track Avro Schemas
schema-registry:
  Enabled: false
